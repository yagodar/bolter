/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

package com.yagodar.bolter.view;

import com.yagodar.bolter.model.BolterModel;
import com.yagodar.bolter.model.sew.AWebSearchEngineWrapper;
import java.awt.Desktop;
import java.io.IOException;
import java.net.URI;
import java.net.URISyntaxException;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.Date;

/**
 *
 * @author profselection-left
 */
public class BolterFrame extends javax.swing.JFrame {

    /**
     * Creates new form BolterFrame
     */
    public BolterFrame(BolterModel bolterModel) {
        initComponents();
        
        this.bolterModel = bolterModel;
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabelApp = new javax.swing.JLabel();
        jTextFieldSearch = new javax.swing.JTextField();
        jButtonSearch = new javax.swing.JButton();
        jPanelSearchFilter = new javax.swing.JPanel();
        jPanelSearchFilterSites = new javax.swing.JPanel();
        jTextFieldSite = new javax.swing.JTextField();
        jButtonAddSite = new javax.swing.JButton();
        jButtonDelSite = new javax.swing.JButton();
        jButtonDelAllSites = new javax.swing.JButton();
        jScrollPaneListSites = new javax.swing.JScrollPane();
        jListSites = new javax.swing.JList<String>();
        jPanelSearchFilterDate = new javax.swing.JPanel();
        jLabelDateFrom = new javax.swing.JLabel();
        jTextFieldDateFrom = new javax.swing.JTextField();
        jLabelDateTo = new javax.swing.JLabel();
        jTextFieldDateTo = new javax.swing.JTextField();
        jPanelSearchFilterEngine = new javax.swing.JPanel();
        jCheckBoxEngineYandex = new javax.swing.JCheckBox();
        jCheckBoxEngineGoogle = new javax.swing.JCheckBox();
        jMenuBar = new javax.swing.JMenuBar();
        jMenuFile = new javax.swing.JMenu();
        jMenuFileItemExit = new javax.swing.JMenuItem();
        jMenuHelp = new javax.swing.JMenu();
        jMenuHelpItemAbout = new javax.swing.JMenuItem();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Bolter");
        setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        setMinimumSize(new java.awt.Dimension(825, 550));
        setName("bolterFrame"); // NOI18N

        jLabelApp.setFont(new java.awt.Font("Tahoma", 1, 25)); // NOI18N
        jLabelApp.setText("Bolter");

        jTextFieldSearch.setFont(new java.awt.Font("Tahoma", 2, 18)); // NOI18N
        jTextFieldSearch.setText("Поиск...");
        jTextFieldSearch.setMinimumSize(new java.awt.Dimension(563, 28));
        jTextFieldSearch.setName(""); // NOI18N
        jTextFieldSearch.setPreferredSize(new java.awt.Dimension(563, 28));

        jButtonSearch.setFont(new java.awt.Font("Tahoma", 1, 19)); // NOI18N
        jButtonSearch.setText("bolt");
        jButtonSearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonSearchActionPerformed(evt);
            }
        });

        jPanelSearchFilter.setMinimumSize(new java.awt.Dimension(730, 420));
        jPanelSearchFilter.setName(""); // NOI18N
        jPanelSearchFilter.setPreferredSize(new java.awt.Dimension(730, 420));

        jPanelSearchFilterSites.setBorder(javax.swing.BorderFactory.createTitledBorder("Искать на сайтах"));
        jPanelSearchFilterSites.setMinimumSize(new java.awt.Dimension(520, 420));
        jPanelSearchFilterSites.setRequestFocusEnabled(false);

        jTextFieldSite.setText("http://");
        jTextFieldSite.setMinimumSize(new java.awt.Dimension(488, 20));
        jTextFieldSite.setPreferredSize(new java.awt.Dimension(488, 20));

        jButtonAddSite.setText("Добавить");

        jButtonDelSite.setText("Удалить");
        jButtonDelSite.setToolTipText("");

        jButtonDelAllSites.setText("Удалить все");
        jButtonDelAllSites.setToolTipText("");
        jButtonDelAllSites.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDelAllSitesActionPerformed(evt);
            }
        });

        jScrollPaneListSites.setMinimumSize(new java.awt.Dimension(488, 320));
        jScrollPaneListSites.setPreferredSize(new java.awt.Dimension(488, 320));

        jListSites.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        jScrollPaneListSites.setViewportView(jListSites);

        javax.swing.GroupLayout jPanelSearchFilterSitesLayout = new javax.swing.GroupLayout(jPanelSearchFilterSites);
        jPanelSearchFilterSites.setLayout(jPanelSearchFilterSitesLayout);
        jPanelSearchFilterSitesLayout.setHorizontalGroup(
            jPanelSearchFilterSitesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelSearchFilterSitesLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelSearchFilterSitesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanelSearchFilterSitesLayout.createSequentialGroup()
                        .addComponent(jButtonAddSite)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButtonDelSite)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButtonDelAllSites)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jScrollPaneListSites, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTextFieldSite, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanelSearchFilterSitesLayout.setVerticalGroup(
            jPanelSearchFilterSitesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelSearchFilterSitesLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jTextFieldSite, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelSearchFilterSitesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButtonAddSite)
                    .addComponent(jButtonDelSite)
                    .addComponent(jButtonDelAllSites))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPaneListSites, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        jPanelSearchFilterDate.setBorder(javax.swing.BorderFactory.createTitledBorder("Период"));
        jPanelSearchFilterDate.setMinimumSize(new java.awt.Dimension(194, 102));
        jPanelSearchFilterDate.setPreferredSize(new java.awt.Dimension(194, 102));

        jLabelDateFrom.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabelDateFrom.setText("с");

        jTextFieldDateFrom.setFont(new java.awt.Font("Tahoma", 2, 11)); // NOI18N
        jTextFieldDateFrom.setText("дата начала");
        jTextFieldDateFrom.setMinimumSize(new java.awt.Dimension(144, 20));
        jTextFieldDateFrom.setPreferredSize(new java.awt.Dimension(144, 20));

        jLabelDateTo.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabelDateTo.setText("по");

        jTextFieldDateTo.setFont(new java.awt.Font("Tahoma", 2, 11)); // NOI18N
        jTextFieldDateTo.setText("дата конца");
        jTextFieldDateTo.setMinimumSize(new java.awt.Dimension(144, 20));
        jTextFieldDateTo.setPreferredSize(new java.awt.Dimension(144, 20));

        javax.swing.GroupLayout jPanelSearchFilterDateLayout = new javax.swing.GroupLayout(jPanelSearchFilterDate);
        jPanelSearchFilterDate.setLayout(jPanelSearchFilterDateLayout);
        jPanelSearchFilterDateLayout.setHorizontalGroup(
            jPanelSearchFilterDateLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSearchFilterDateLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelSearchFilterDateLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabelDateTo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabelDateFrom, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(5, 5, 5)
                .addGroup(jPanelSearchFilterDateLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextFieldDateFrom, javax.swing.GroupLayout.DEFAULT_SIZE, 155, Short.MAX_VALUE)
                    .addComponent(jTextFieldDateTo, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanelSearchFilterDateLayout.setVerticalGroup(
            jPanelSearchFilterDateLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSearchFilterDateLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelSearchFilterDateLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelDateFrom)
                    .addComponent(jTextFieldDateFrom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanelSearchFilterDateLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelDateTo)
                    .addComponent(jTextFieldDateTo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jPanelSearchFilterEngine.setBorder(javax.swing.BorderFactory.createTitledBorder("Поисковик"));

        jCheckBoxEngineYandex.setSelected(true);
        jCheckBoxEngineYandex.setText("Яндекс");

        jCheckBoxEngineGoogle.setText("Google");

        javax.swing.GroupLayout jPanelSearchFilterEngineLayout = new javax.swing.GroupLayout(jPanelSearchFilterEngine);
        jPanelSearchFilterEngine.setLayout(jPanelSearchFilterEngineLayout);
        jPanelSearchFilterEngineLayout.setHorizontalGroup(
            jPanelSearchFilterEngineLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSearchFilterEngineLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelSearchFilterEngineLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jCheckBoxEngineGoogle, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jCheckBoxEngineYandex, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanelSearchFilterEngineLayout.setVerticalGroup(
            jPanelSearchFilterEngineLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSearchFilterEngineLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jCheckBoxEngineYandex)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jCheckBoxEngineGoogle)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanelSearchFilterLayout = new javax.swing.GroupLayout(jPanelSearchFilter);
        jPanelSearchFilter.setLayout(jPanelSearchFilterLayout);
        jPanelSearchFilterLayout.setHorizontalGroup(
            jPanelSearchFilterLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSearchFilterLayout.createSequentialGroup()
                .addComponent(jPanelSearchFilterSites, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelSearchFilterLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanelSearchFilterDate, javax.swing.GroupLayout.DEFAULT_SIZE, 204, Short.MAX_VALUE)
                    .addComponent(jPanelSearchFilterEngine, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );
        jPanelSearchFilterLayout.setVerticalGroup(
            jPanelSearchFilterLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelSearchFilterLayout.createSequentialGroup()
                .addComponent(jPanelSearchFilterDate, javax.swing.GroupLayout.PREFERRED_SIZE, 95, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanelSearchFilterEngine, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(jPanelSearchFilterSites, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jMenuBar.setMinimumSize(new java.awt.Dimension(92, 21));

        jMenuFile.setText("Файл");

        jMenuFileItemExit.setText("Выход");
        jMenuFile.add(jMenuFileItemExit);

        jMenuBar.add(jMenuFile);

        jMenuHelp.setText("Справка");

        jMenuHelpItemAbout.setText("О программе");
        jMenuHelp.add(jMenuHelpItemAbout);

        jMenuBar.add(jMenuHelp);

        setJMenuBar(jMenuBar);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanelSearchFilter, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabelApp)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jTextFieldSearch, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButtonSearch)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabelApp)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jTextFieldSearch, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jButtonSearch)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanelSearchFilter, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void jButtonDelAllSitesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDelAllSitesActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButtonDelAllSitesActionPerformed

    private void jButtonSearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonSearchActionPerformed
        try {
            //TODO
            for(AWebSearchEngineWrapper wrapper : bolterModel.getUsedWebSearchEngineWrappers()) {
                String searchWord = "Hello World!";
                
                ArrayList<String> listSites = new ArrayList<>();
                listSites.add("vk.com");
                listSites.add("facebook.com");
                
                Calendar calFrom = Calendar.getInstance();
                calFrom.set(2014, 1, 1);
                Date dateFrom = calFrom.getTime();
                
                Calendar calTo = Calendar.getInstance();
                calTo.set(2014, 6, 1);
                Date dateTo = calTo.getTime();
                
                Desktop.getDesktop().browse(new URI(wrapper.genSearchQuery(searchWord, listSites, dateFrom, dateTo)));
            }
        } catch (IOException | URISyntaxException ex) {
            //TODO окно об ошибке
        }
    }//GEN-LAST:event_jButtonSearchActionPerformed

    private BolterModel bolterModel;
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButtonAddSite;
    private javax.swing.JButton jButtonDelAllSites;
    private javax.swing.JButton jButtonDelSite;
    private javax.swing.JButton jButtonSearch;
    private javax.swing.JCheckBox jCheckBoxEngineGoogle;
    private javax.swing.JCheckBox jCheckBoxEngineYandex;
    private javax.swing.JLabel jLabelApp;
    private javax.swing.JLabel jLabelDateFrom;
    private javax.swing.JLabel jLabelDateTo;
    private javax.swing.JList<String> jListSites;
    private javax.swing.JMenuBar jMenuBar;
    private javax.swing.JMenu jMenuFile;
    private javax.swing.JMenuItem jMenuFileItemExit;
    private javax.swing.JMenu jMenuHelp;
    private javax.swing.JMenuItem jMenuHelpItemAbout;
    private javax.swing.JPanel jPanelSearchFilter;
    private javax.swing.JPanel jPanelSearchFilterDate;
    private javax.swing.JPanel jPanelSearchFilterEngine;
    private javax.swing.JPanel jPanelSearchFilterSites;
    private javax.swing.JScrollPane jScrollPaneListSites;
    private javax.swing.JTextField jTextFieldDateFrom;
    private javax.swing.JTextField jTextFieldDateTo;
    private javax.swing.JTextField jTextFieldSearch;
    private javax.swing.JTextField jTextFieldSite;
    // End of variables declaration//GEN-END:variables
}
